_HiStOrY_V2_
CREATE\040DATABASE\040testdb;
USE\040testdb;
CREATE\040TABLE\040users\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040name\040VARCHAR(100),
\040\040\040\040age\040INT
);
CREATE\040TABLE\040users\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040name\040VARCHAR(100),\040\040\040\040\040age\040INT\040);
INSERT\040INTO\040users\040(name,\040age)\040VALUES\040('Alice',\04030),\040('Bob',\04025);
SELECT\040*\040FROM\040users;
EXIT;
mysql\040-u\040root\040-p
USE\040filmsdb;
SHOW\040TABLES;
DESCRIBE\040artiste;
DESCRIBE\040film;
SELECT\040*\040FROM\040film\040LIMIT\04010;
DESCRIBE\040internaute;
SELECT\040*\040FROM\040internaute\040LIMIT\04010;
DESCRIBE\040notation;
SELECT\040*\040FROM\040notation\040LIMIT\04010;
DESCRIBE\040notemoyenne;
SELECT\040*\040FROM\040notemoyenne\040LIMIT\04010;
DESCRIBE\040pays;
SELECT\040*\040FROM\040pays;
DESCRIBE\040role;
SELECT\040*\040FROM\040role\040LIMIT\04010;
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
SELECT\040titre\040FROM\040film\040WHERE\040genre\040=\040'Drame';
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040role;
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/Users/rayanemouhajer/Downloads/BDD\134\040existante\134\040film.sql
EXIT;
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/Users/rayanemouhajer/Downloads/BDD\134\040existante\134\040film.sql\040EXIT;
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/Users/rayanemouhajer/Downloads/BDD\134\040existante\134\040film.sql
EXIT;
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/Users/rayanemouhajer/Downloads/BDD\134\040existante\134\040film.sql\040EXIT;
EXIT
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040artiste,\040film,\040internaute,\040notation,\040notemoyenne,\040pays,\040role;
EXIT
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040artiste,\040film,\040internaute,\040notation,\040notemoyenne,\040pays,\040role;
EXIT
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040artiste,\040film,\040internaute,\040notation,\040notemoyenne,\040pays,\040role;
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/Users/rayanemouhajer/Downloads/BDD\134\040existante\134\040film.sql
mysql\040-u\040root\040-p
exit
EXIT
mysql\040-u\040root\040-p\040-e\040"USE\040filmsdb;\040DROP\040TABLE\040IF\040EXISTS\040artiste,\040film,\040internaute,\040notation,\040notemoyenne,\040pays,\040role;"
EXIT
USE\040filmsdb;
SHOW\040TABLES;
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
exit
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040artiste,\040film,\040internaute,\040notation,\040notemoyenne,\040pays,\040role;
SHOW\040TABLES;
EXIT
USE\040filmsdb;
SHOW\040TABLES;
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
mysql\040-u\040root\040-p\040--default-character-set=utf8mb4\040filmsdb\040<\040/path/to/role_table.sql
EXIT
USE\040filmsdb;
DROP\040TABLE\040IF\040EXISTS\040role;
EXIT
USE\040filmsdb;
DESCRIBE\040role;
SELECT\040*\040FROM\040role\040LIMIT\04010;
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
SELECT\040titre\040FROM\040film\040WHERE\040genre\040=\040'Drame';
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040film\040INNER\040JOIN\040artiste\040ON\040film.idRéalisateur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Memento';
SELECT\040notation.note\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040WHERE\040film.titre\040=\040'Fargo';
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040role.nomRôle\040=\040'Chewbacca';
SELECT\040film.titre\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce'\040AND\040role.nomRôle\040=\040'John\040McClane';
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Sueurs\040froides';
SELECT\040film.titre\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040INNER\040JOIN\040internaute\040ON\040notation.email\040=\040internaute.email\040WHERE\040internaute.nom\040=\040'Nom0'\040AND\040internaute.prénom\040=\040'Prénom0';
SELECT\040DISTINCT\040f.titre\040
FROM\040film\040f
INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm
INNER\040JOIN\040artiste\040a1\040ON\040f.idRéalisateur\040=\040a1.idArtiste
INNER\040JOIN\040artiste\040a2\040ON\040r.idActeur\040=\040a2.idArtiste
WHERE\040a1.nom\040=\040'Burton'\040AND\040a1.prénom\040=\040'Tim'\040AND\040a2.nom\040=\040'Depp'\040AND\040a2.prénom\040=\040'Johnny';
SELECT\040DISTINCT\040f.titre\040\040FROM\040film\040f\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040a1\040ON\040f.idRéalisateur\040=\040a1.idArtiste\040INNER\040JOIN\040artiste\040a2\040ON\040r.idActeur\040=\040a2.idArtiste\040WHERE\040a1.nom\040=\040'Burton'\040AND\040a1.prénom\040=\040'Tim'\040AND\040a2.nom\040=\040'Depp'\040AND\040a2.prénom\040=\040'Johnny';
SELECT\040film.titre,\040role.nomRôle\040FROM\040film\040INNER\040JOIN\040role\040ON\040film.idFilm\040=\040role.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Allen'\040AND\040artiste.prénom\040=\040'Woody';
SELECT\040DISTINCT\040r.nomRôle,\040f.titre,\040a.nom,\040a.prénom
FROM\040film\040f
INNER\040JOIN\040artiste\040a\040ON\040f.idRéalisateur\040=\040a.idArtiste
INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040AND\040f.idFilm\040=\040r.idFilm;
SELECT\040DISTINCT\040r.nomRôle,\040f.titre,\040a.nom,\040a.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040a\040ON\040f.idRéalisateur\040=\040a.idArtiste\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040AND\040f.idFilm\040=\040r.idFilm;
SELECT\040f.titre\040
FROM\040film\040f\040
WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin')\040
AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin');
SELECT\040f.titre\040\040FROM\040film\040f\040\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin')\040\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin');
SELECT\040DISTINCT\040a.nom,\040a.prénom,\040r.nomRôle,\040f.titre\040
FROM\040artiste\040a\040
INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040
INNER\040JOIN\040film\040f\040ON\040r.idFilm\040=\040f.idFilm\040
WHERE\040a.idArtiste\040IN\040(SELECT\040idRéalisateur\040FROM\040film);
SELECT\040DISTINCT\040a.nom,\040a.prénom,\040r.nomRôle,\040f.titre\040\040FROM\040artiste\040a\040\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040\040INNER\040JOIN\040film\040f\040ON\040r.idFilm\040=\040f.idFilm\040\040WHERE\040a.idArtiste\040IN\040(SELECT\040idRéalisateur\040FROM\040film);
SELECT\040f.titre\040
FROM\040film\040f\040
WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Hitchcock'\040AND\040a.prénom\040=\040'Alfred')\040
AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Stewart'\040AND\040a.prénom\040=\040'James');
SELECT\040f.titre\040\040FROM\040film\040f\040\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Hitchcock'\040AND\040a.prénom\040=\040'Alfred')\040\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Stewart'\040AND\040a.prénom\040=\040'James');
SELECT\040DISTINCT\040f.titre,\040ar.nom,\040ar.prénom,\040aa.nom,\040aa.prénom
FROM\040film\040f
INNER\040JOIN\040artiste\040ar\040ON\040f.idRéalisateur\040=\040ar.idArtiste
INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm
INNER\040JOIN\040artiste\040aa\040ON\040r.idActeur\040=\040aa.idArtiste
WHERE\040ar.prénom\040=\040aa.prénom\040AND\040ar.idArtiste\040!=\040aa.idArtiste;
SELECT\040DISTINCT\040f.titre,\040ar.nom,\040ar.prénom,\040aa.nom,\040aa.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040ar\040ON\040f.idRéalisateur\040=\040ar.idArtiste\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040aa\040ON\040r.idActeur\040=\040aa.idArtiste\040WHERE\040ar.prénom\040=\040aa.prénom\040AND\040ar.idArtiste\040!=\040aa.idArtiste;
SELECT\040f.titre\040
FROM\040film\040f\040
LEFT\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040
WHERE\040r.idFilm\040IS\040NULL;
SELECT\040f.titre\040\040FROM\040film\040f\040\040LEFT\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040\040WHERE\040r.idFilm\040IS\040NULL;
SELECT\040f.titre\040
FROM\040film\040f\040
WHERE\040f.idFilm\040NOT\040IN\040(SELECT\040n.idFilm\040FROM\040notation\040n\040INNER\040JOIN\040internaute\040i\040ON\040n.email\040=\040i.email\040WHERE\040i.nom\040=\040'Nom1'\040AND\040i.prénom\040=\040'Prénom1');
SELECT\040f.titre\040\040FROM\040film\040f\040\040WHERE\040f.idFilm\040NOT\040IN\040(SELECT\040n.idFilm\040FROM\040notation\040n\040INNER\040JOIN\040internaute\040i\040ON\040n.email\040=\040i.email\040WHERE\040i.nom\040=\040'Nom1'\040AND\040i.prénom\040=\040'Prénom1');
SELECT\040a.nom,\040a.prénom\040
FROM\040artiste\040a\040
WHERE\040a.idArtiste\040NOT\040IN\040(SELECT\040idRéalisateur\040FROM\040film)\040
AND\040a.idArtiste\040IN\040(SELECT\040idActeur\040FROM\040role);
SELECT\040a.nom,\040a.prénom\040\040FROM\040artiste\040a\040\040WHERE\040a.idArtiste\040NOT\040IN\040(SELECT\040idRéalisateur\040FROM\040film)\040\040AND\040a.idArtiste\040IN\040(SELECT\040idActeur\040FROM\040role);
SELECT\040AVG(n.note)\040AS\040moyenne\040
FROM\040notation\040n\040
INNER\040JOIN\040film\040f\040ON\040n.idFilm\040=\040f.idFilm\040
WHERE\040f.titre\040=\040'Memento';
SELECT\040AVG(n.note)\040AS\040moyenne\040\040FROM\040notation\040n\040\040INNER\040JOIN\040film\040f\040ON\040n.idFilm\040=\040f.idFilm\040\040WHERE\040f.titre\040=\040'Memento';
SELECT\040a.idArtiste,\040a.nom,\040a.prénom,\040COUNT(f.idFilm)\040AS\040nb_films\040
FROM\040artiste\040a\040
INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040
GROUP\040BY\040a.idArtiste,\040a.nom,\040a.prénom;
SELECT\040a.idArtiste,\040a.nom,\040a.prénom,\040COUNT(f.idFilm)\040AS\040nb_films\040\040FROM\040artiste\040a\040\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040\040GROUP\040BY\040a.idArtiste,\040a.nom,\040a.prénom;
SELECT\040a.nom,\040a.prénom\040
FROM\040artiste\040a\040
INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040
GROUP\040BY\040a.nom,\040a.prénom\040
HAVING\040COUNT(f.idFilm)\040>=\0402;
SELECT\040a.nom,\040a.prénom\040\040FROM\040artiste\040a\040\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040\040GROUP\040BY\040a.nom,\040a.prénom\040\040HAVING\040COUNT(f.idFilm)\040>=\0402;
SELECT\040f.titre,\040AVG(n.note)\040AS\040moyenne\040
FROM\040film\040f\040
INNER\040JOIN\040notation\040n\040ON\040f.idFilm\040=\040n.idFilm\040
GROUP\040BY\040f.titre\040
HAVING\040moyenne\040>\0407;
SELECT\040f.titre,\040AVG(n.note)\040AS\040moyenne\040\040FROM\040film\040f\040\040INNER\040JOIN\040notation\040n\040ON\040f.idFilm\040=\040n.idFilm\040\040GROUP\040BY\040f.titre\040\040HAVING\040moyenne\040>\0407;
USE\040filmsdb;
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
USE\040filmsdb;
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
--\040Exo\0401:\040Nom\040et\040année\040de\040naissance\040des\040artistes\040nés\040avant\0401950.
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
--\040Exo\0402:\040Titre\040de\040tous\040les\040drames.
SELECT\040titre\040FROM\040film\040WHERE\040genre\040=\040'Drame';
--\040Exo\0403:\040Quels\040rôles\040a\040joué\040Bruce\040Willis.
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
--\040Exo\0404:\040Qui\040est\040le\040réalisateur\040de\040Memento.
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040film\040INNER\040JOIN\040artiste\040ON\040film.idRéalisateur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Memento';
--\040Exo\0405:\040Quelles\040sont\040les\040notes\040obtenues\040par\040le\040film\040Fargo.
SELECT\040notation.note\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040WHERE\040film.titre\040=\040'Fargo';
--\040Exo\0406:\040Qui\040a\040joué\040le\040rôle\040de\040Chewbacca?
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040role.nomRôle\040=\040'Chewbacca';
--\040Exo\0407:\040Dans\040quels\040films\040Bruce\040Willis\040a-t-il\040joué\040le\040rôle\040de\040John\040McClane?
SELECT\040film.titre\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce'\040AND\040role.nomRôle\040=\040'John\040McClane';
--\040Exo\0408:\040Nom\040des\040acteurs\040de\040'Sueurs\040froides'.
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Sueurs\040froides';
--\040Exo\0409:\040Quelles\040sont\040les\040films\040notés\040par\040l'internaute\040Prénom\0400\040Nom0.
SELECT\040film.titre\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040INNER\040JOIN\040internaute\040ON\040notation.email\040=\040internaute.email\040WHERE\040internaute.nom\040=\040'Nom0'\040AND\040internaute.prénom\040=\040'Prénom0';
--\040Exo\04010:\040Films\040dont\040le\040réalisateur\040est\040Tim\040Burton,\040et\040l’un\040des\040acteurs\040Johnny\040Depp.
SELECT\040DISTINCT\040f.titre\040FROM\040film\040f\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040a1\040ON\040f.idRéalisateur\040=\040a1.idArtiste\040INNER\040JOIN\040artiste\040a2\040ON\040r.idActeur\040=\040a2.idArtiste\040WHERE\040a1.nom\040=\040'Burton'\040AND\040a1.prénom\040=\040'Tim'\040AND\040a2.nom\040=\040'Depp'\040AND\040a2.prénom\040=\040'Johnny';
--\040Exo\04011:\040Titre\040des\040films\040dans\040lesquels\040a\040joué\040Woody\040Allen.\040Donner\040aussi\040le\040rôle.
SELECT\040film.titre,\040role.nomRôle\040FROM\040film\040INNER\040JOIN\040role\040ON\040film.idFilm\040=\040role.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Allen'\040AND\040artiste.prénom\040=\040'Woody';
--\040Exo\04012:\040Quel\040metteur\040en\040scène\040a\040tourné\040dans\040ses\040propres\040films?\040Donner\040le\040nom,\040le\040rôle\040et\040le\040titre\040des\040films.
SELECT\040DISTINCT\040r.nomRôle,\040f.titre,\040a.nom,\040a.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040a\040ON\040f.idRéalisateur\040=\040a.idArtiste\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040AND\040f.idFilm\040=\040r.idFilm;
--\040Exo\04013:\040Titre\040des\040films\040de\040Quentin\040Tarantino\040dans\040lesquels\040il\040n’a\040pas\040joué.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin')\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin');
--\040Exo\04014:\040Quel\040metteur\040en\040scène\040a\040tourné\040en\040tant\040qu’acteur?\040Donner\040le\040nom,\040le\040rôle\040et\040le\040titre\040des\040films\040dans\040lesquels\040cet\040artiste\040a\040joué.
SELECT\040DISTINCT\040a.nom,\040a.prénom,\040r.nomRôle,\040f.titre\040FROM\040artiste\040a\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040INNER\040JOIN\040film\040f\040ON\040r.idFilm\040=\040f.idFilm\040WHERE\040a.idArtiste\040IN\040(SELECT\040idRéalisateur\040FROM\040film);
--\040Exo\04015:\040Donnez\040les\040films\040de\040Hitchcock\040sans\040James\040Stewart.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Hitchcock'\040AND\040a.prénom\040=\040'Alfred')\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Stewart'\040AND\040a.prénom\040=\040'James');
--\040Exo\04016:\040Dans\040quels\040films\040le\040réalisateur\040a-t-il\040le\040même\040prénom\040que\040l’un\040des\040interprètes?\040(titre,\040nom\040du\040réalisateur,\040nom\040de\040l’interprète).\040Le\040réalisateur\040et\040l’interprète\040ne\040doivent\040pas\040être\040la\040même\040personne.
SELECT\040DISTINCT\040f.titre,\040ar.nom,\040ar.prénom,\040aa.nom,\040aa.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040ar\040ON\040f.idRéalisateur\040=\040ar.idArtiste\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040aa\040ON\040r.idActeur\040=\040aa.idArtiste\040WHERE\040ar.prénom\040=\040aa.prénom\040AND\040ar.idArtiste\040!=\040aa.idArtiste;
--\040Exo\04017:\040Les\040films\040sans\040rôle.
SELECT\040f.titre\040FROM\040film\040f\040LEFT\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040WHERE\040r.idFilm\040IS\040NULL;
--\040Exo\04018:\040Quelles\040sont\040les\040films\040non\040notés\040par\040l'internaute\040Prénom1\040Nom1.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idFilm\040NOT\040IN\040(SELECT\040n.idFilm\040FROM\040notation\040n\040INNER\040JOIN\040internaute\040i\040ON\040n.email\040=\040i.email\040WHERE\040i.nom\040=\040'Nom1'\040AND\040i.prénom\040=\040'Prénom1');
--\040Exo\04019:\040Quels\040acteurs\040n’ont\040jamais\040réalisé\040de\040film?
SELECT\040a.nom,\040a.prénom\040FROM\040artiste\040a\040WHERE\040a.idArtiste\040NOT\040IN\040(SELECT\040idRéalisateur\040FROM\040film)\040AND\040a.idArtiste\040IN\040(SELECT\040idActeur\040FROM\040role);
--\040Exo\04020:\040Quelle\040est\040la\040moyenne\040des\040notes\040de\040Memento.
SELECT\040AVG(n.note)\040AS\040moyenne\040FROM\040notation\040n\040INNER\040JOIN\040film\040f\040ON\040n.idFilm\040=\040f.idFilm\040WHERE\040f.titre\040=\040'Memento';
--\040Exo\04021:\040id,\040nom\040et\040prénom\040des\040réalisateurs,\040et\040nombre\040de\040films\040qu’ils\040ont\040tournés.
SELECT\040a.idArtiste,\040a.nom,\040a.prénom,\040COUNT(f.idFilm)\040AS\040nb_films\040FROM\040artiste\040a\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040GROUP\040BY\040a.idArtiste,\040a.nom,\040a.prénom;
--\040Exo\04022:\040Nom\040et\040prénom\040des\040réalisateurs\040qui\040ont\040tourné\040au\040moins\040deux\040films.
SELECT\040a.nom,\040a.prénom\040FROM\040artiste\040a\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040GROUP\040BY\040a.nom,\040a.prénom\040HAVING\040COUNT(f.idFilm)\040>=\0402;
--\040Exo\04023:\040Quels\040films\040ont\040une\040moyenne\040des\040notes\040supérieure\040à\0407?
USE\040filmsdb;
--\040Exo\0401:\040Nom\040et\040année\040de\040naissance\040des\040artistes\040nés\040avant\0401950.
SELECT\040nom,\040annéeNaiss\040FROM\040artiste\040WHERE\040annéeNaiss\040<\0401950;
--\040Exo\0402:\040Titre\040de\040tous\040les\040drames.
SELECT\040titre\040FROM\040film\040WHERE\040genre\040=\040'Drame';
--\040Exo\0403:\040Quels\040rôles\040a\040joué\040Bruce\040Willis.
SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
--\040Exo\0404:\040Qui\040est\040le\040réalisateur\040de\040Memento.
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040film\040INNER\040JOIN\040artiste\040ON\040film.idRéalisateur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Memento';
--\040Exo\0405:\040Quelles\040sont\040les\040notes\040obtenues\040par\040le\040film\040Fargo.
SELECT\040notation.note\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040WHERE\040film.titre\040=\040'Fargo';
--\040Exo\0406:\040Qui\040a\040joué\040le\040rôle\040de\040Chewbacca?
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040role.nomRôle\040=\040'Chewbacca';
--\040Exo\0407:\040Dans\040quels\040films\040Bruce\040Willis\040a-t-il\040joué\040le\040rôle\040de\040John\040McClane?
SELECT\040film.titre\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce'\040AND\040role.nomRôle\040=\040'John\040McClane';
--\040Exo\0408:\040Nom\040des\040acteurs\040de\040'Sueurs\040froides'.
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040film\040ON\040role.idFilm\040=\040film.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Sueurs\040froides';
--\040Exo\0409:\040Quelles\040sont\040les\040films\040notés\040par\040l'internaute\040Prénom\0400\040Nom0.
SELECT\040film.titre\040FROM\040notation\040INNER\040JOIN\040film\040ON\040notation.idFilm\040=\040film.idFilm\040INNER\040JOIN\040internaute\040ON\040notation.email\040=\040internaute.email\040WHERE\040internaute.nom\040=\040'Nom0'\040AND\040internaute.prénom\040=\040'Prénom0';
--\040Exo\04010:\040Films\040dont\040le\040réalisateur\040est\040Tim\040Burton,\040et\040l’un\040des\040acteurs\040Johnny\040Depp.
SELECT\040DISTINCT\040f.titre\040FROM\040film\040f\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040a1\040ON\040f.idRéalisateur\040=\040a1.idArtiste\040INNER\040JOIN\040artiste\040a2\040ON\040r.idActeur\040=\040a2.idArtiste\040WHERE\040a1.nom\040=\040'Burton'\040AND\040a1.prénom\040=\040'Tim'\040AND\040a2.nom\040=\040'Depp'\040AND\040a2.prénom\040=\040'Johnny';
--\040Exo\04011:\040Titre\040des\040films\040dans\040lesquels\040a\040joué\040Woody\040Allen.\040Donner\040aussi\040le\040rôle.
SELECT\040film.titre,\040role.nomRôle\040FROM\040film\040INNER\040JOIN\040role\040ON\040film.idFilm\040=\040role.idFilm\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Allen'\040AND\040artiste.prénom\040=\040'Woody';
--\040Exo\04012:\040Quel\040metteur\040en\040scène\040a\040tourné\040dans\040ses\040propres\040films?\040Donner\040le\040nom,\040le\040rôle\040et\040le\040titre\040des\040films.
SELECT\040DISTINCT\040r.nomRôle,\040f.titre,\040a.nom,\040a.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040a\040ON\040f.idRéalisateur\040=\040a.idArtiste\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040AND\040f.idFilm\040=\040r.idFilm;
--\040Exo\04013:\040Titre\040des\040films\040de\040Quentin\040Tarantino\040dans\040lesquels\040il\040n’a\040pas\040joué.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin')\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Tarantino'\040AND\040a.prénom\040=\040'Quentin');
--\040Exo\04014:\040Quel\040metteur\040en\040scène\040a\040tourné\040en\040tant\040qu’acteur?\040Donner\040le\040nom,\040le\040rôle\040et\040le\040titre\040des\040films\040dans\040lesquels\040cet\040artiste\040a\040joué.
SELECT\040DISTINCT\040a.nom,\040a.prénom,\040r.nomRôle,\040f.titre\040FROM\040artiste\040a\040INNER\040JOIN\040role\040r\040ON\040a.idArtiste\040=\040r.idActeur\040INNER\040JOIN\040film\040f\040ON\040r.idFilm\040=\040f.idFilm\040WHERE\040a.idArtiste\040IN\040(SELECT\040idRéalisateur\040FROM\040film);
--\040Exo\04015:\040Donnez\040les\040films\040de\040Hitchcock\040sans\040James\040Stewart.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idRéalisateur\040=\040(SELECT\040a.idArtiste\040FROM\040artiste\040a\040WHERE\040a.nom\040=\040'Hitchcock'\040AND\040a.prénom\040=\040'Alfred')\040AND\040f.idFilm\040NOT\040IN\040(SELECT\040r.idFilm\040FROM\040role\040r\040INNER\040JOIN\040artiste\040a\040ON\040r.idActeur\040=\040a.idArtiste\040WHERE\040a.nom\040=\040'Stewart'\040AND\040a.prénom\040=\040'James');
--\040Exo\04016:\040Dans\040quels\040films\040le\040réalisateur\040a-t-il\040le\040même\040prénom\040que\040l’un\040des\040interprètes?\040(titre,\040nom\040du\040réalisateur,\040nom\040de\040l’interprète).\040Le\040réalisateur\040et\040l’interprète\040ne\040doivent\040pas\040être\040la\040même\040personne.
SELECT\040DISTINCT\040f.titre,\040ar.nom,\040ar.prénom,\040aa.nom,\040aa.prénom\040FROM\040film\040f\040INNER\040JOIN\040artiste\040ar\040ON\040f.idRéalisateur\040=\040ar.idArtiste\040INNER\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040INNER\040JOIN\040artiste\040aa\040ON\040r.idActeur\040=\040aa.idArtiste\040WHERE\040ar.prénom\040=\040aa.prénom\040AND\040ar.idArtiste\040!=\040aa.idArtiste;
--\040Exo\04017:\040Les\040films\040sans\040rôle.
SELECT\040f.titre\040FROM\040film\040f\040LEFT\040JOIN\040role\040r\040ON\040f.idFilm\040=\040r.idFilm\040WHERE\040r.idFilm\040IS\040NULL;
--\040Exo\04018:\040Quelles\040sont\040les\040films\040non\040notés\040par\040l'internaute\040Prénom1\040Nom1.
SELECT\040f.titre\040FROM\040film\040f\040WHERE\040f.idFilm\040NOT\040IN\040(SELECT\040n.idFilm\040FROM\040notation\040n\040INNER\040JOIN\040internaute\040i\040ON\040n.email\040=\040i.email\040WHERE\040i.nom\040=\040'Nom1'\040AND\040i.prénom\040=\040'Prénom1');
--\040Exo\04019:\040Quels\040acteurs\040n’ont\040jamais\040réalisé\040de\040film?
SELECT\040a.nom,\040a.prénom\040FROM\040artiste\040a\040WHERE\040a.idArtiste\040NOT\040IN\040(SELECT\040idRéalisateur\040FROM\040film)\040AND\040a.idArtiste\040IN\040(SELECT\040idActeur\040FROM\040role);
--\040Exo\04020:\040Quelle\040est\040la\040moyenne\040des\040notes\040de\040Memento.
SELECT\040AVG(n.note)\040AS\040moyenne\040FROM\040notation\040n\040INNER\040JOIN\040film\040f\040ON\040n.idFilm\040=\040f.idFilm\040WHERE\040f.titre\040=\040'Memento';
--\040Exo\04021:\040id,\040nom\040et\040prénom\040des\040réalisateurs,\040et\040nombre\040de\040films\040qu’ils\040ont\040tournés.
SELECT\040a.idArtiste,\040a.nom,\040a.prénom,\040COUNT(f.idFilm)\040AS\040nb_films\040FROM\040artiste\040a\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040GROUP\040BY\040a.idArtiste,\040a.nom,\040a.prénom;
--\040Exo\04022:\040Nom\040et\040prénom\040des\040réalisateurs\040qui\040ont\040tourné\040au\040moins\040deux\040films.
SELECT\040a.nom,\040a.prénom\040FROM\040artiste\040a\040INNER\040JOIN\040film\040f\040ON\040a.idArtiste\040=\040f.idRéalisateur\040GROUP\040BY\040a.nom,\040a.prénom\040HAVING\040COUNT(f.idFilm)\040>=\0402;
--\040Exo\04023:\040Quels\040films\040ont\040une\040moyenne\040des\040notes\040supérieure\040à\0407?
SELECT\040f.titre,\040AVG(n.note)\040AS\040moyenne\040FROM\040film\040f\040INNER\040JOIN\040notation\040n\040ON\040f.idFilm\040=\040n.idFilm\040GROUP\040BY\040f.titre\040HAVING\040moyenne\040>\0407;SELECT\040nomRôle\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040artiste.nom\040=\040'Willis'\040AND\040artiste.prénom\040=\040'Bruce';
SELECT\040titre\040FROM\040film\040WHERE\040genre\040=\040'Drame';
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040film\040INNER\040JOIN\040artiste\040ON\040film.idRéalisateur\040=\040artiste.idArtiste\040WHERE\040film.titre\040=\040'Memento';
SELECT\040artiste.nom,\040artiste.prénom\040FROM\040role\040INNER\040JOIN\040artiste\040ON\040role.idActeur\040=\040artiste.idArtiste\040WHERE\040role.nomRôle\040=\040'Chewbacca';
SHOW\040DATABASES;
docker-compose\040exec\040php\040bash
EXIT
exit
FLUSH\040PRIVILEGES;
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'user'@'localhost';
FLUSH\040PRIVILEGES;
SELECT\040user,\040host\040FROM\040mysql.user;
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'new_user'@'localhost';
FLUSH\040PRIVILEGES;
DROP\040USER\040IF\040EXISTS\040'new_user'@'%';
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'new_user'@'%';
USE\040Rdigital_db;
DROP\040TABLE\040IF\040EXISTS\040user;
php\040bin/console\040make:migration
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'new_user'@'%';
FLUSH\040PRIVILEGES;
EXIT
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'new_user'@'%';
FLUSH\040PRIVILEGES;
SHOW\040GRANTS\040FOR\040'new_user'@'%';
Exit
GRANT\040ALL\040PRIVILEGES\040ON\040Rdigital_db.*\040TO\040'new_user'@'%'\040WITH\040GRANT\040OPTION;
FLUSH\040PRIVILEGES;
CREATE\040DATABASE\040rboost_db;
GRANT\040ALL\040PRIVILEGES\040ON\040rboost_db.*\040TO\040'utilisateur'@'localhost';
FLUSH\040PRIVILEGES;
EXIT;
docker\040exec\040-it\040rboost-php-1\040bash
